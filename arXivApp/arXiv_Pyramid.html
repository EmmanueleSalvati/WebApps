<!DOCTYPE html>
<meta charset='utf-8'>

<head>
    <style>
    svg {
        font: 10px sans-serif;
    }
    .y.axis path {
        display: none;
    }
    .y.axis line {
        stroke: #fff;
        stroke-opacity: .2;
        shape-rendering: crispEdges;
    }
    .title {
        font: 300 78px Helvetica Neue;
        fill: #666;
    }
    .absdate {
        fill: #fff;
    }
    rect {
        fill-opacity: .6;
        fill: #e377c2;
    }
    rect:first-child {
        fill: #1f77b4;
    }
    </style>
</head>

<body>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="http://d3js.org/d3.v3.min.js"></script>

    <script type="text/javascript">
    var margin = {
            top: 20,
            right: 40,
            bottom: 30,
            left: 20
        },
        width = 960 - margin.left - margin.right,
        height = 500 - margin.top - margin.bottom,
        barWidth = Math.floor(width / 19) - 1;

    var x = d3.scale.linear()
        .range([barWidth / 2, width - barWidth / 2]);

    var y = d3.scale.linear()
        .range([height, 0]);

    // Why is the axis its own svg?
    var yAxis = d3.svg.axis()
        .scale(y)
        .orient('right')
        .tickSize(-width)
        .tickFormat(function(d) {
            return d;
        });

    var svg = d3.select("body").append("svg")
        .attr('width', width + margin.left + margin.right)
        .attr('height', height + margin.top + margin.bottom)
        .append("g")
        .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');

    // This is the sliding container of abstract dates
    var absdates = svg.append("g")
        .attr('class', "absdates");

    var title = svg.append("text")
        .attr('class', "title")
        .attr('dy', ".71em")
        .text(2000);

    d3.csv("/static/electrons.csv", type, function(error, data) {
        console.log('...in the csv function');
        console.log(data);
    });

    function type(d) {
        d.rollingmonth = +d.rollingmonth;
        d.electrons = +d.electrons;
        d.year = +d.year;
        d.month = +d.month;
        return d;
    };
    </script>

</body>
